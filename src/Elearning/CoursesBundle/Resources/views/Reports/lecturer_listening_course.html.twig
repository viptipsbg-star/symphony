{% extends "bodybase.html.twig" %}

{% block bodycontainer %}
<h1>{{ course.name }}</h1>
<div class="content-container">
    <div class="body-panel">
        {% if listenings is empty %}
            <h3 class="no-entries">{{ "reports.lecturer_courses.no_entries"|trans }}
        {% else %}
        <div class="list-table">
            <table class="table table-striped table-bordered">
                <thead>
                    <tr>
                        <th>{{ "reports.lecturer_courses.user_name"|trans }}</th>
                        <th>{{ "reports.lecturer_courses.received"|trans }}</th>
                        <th>{{ "reports.lecturer_courses.started"|trans }}</th>
                        <th>{{ "reports.lecturer_courses.completed"|trans }}</th>
                        <th>{{ "reports.lecturer_courses.questions_count"|trans }}</th>
                    </tr>
                </thead>
                <tbody>
                    {% for listening in listenings %}
                    <tr>
                        <td>{{ listening.user.employee.getFieldValue('name') }} {{ listening.user.employee.getFieldValue('surname') }}</td>
                        <td>{{ listening.created|date("Y-m-d H:i:s") }}</td>
                        <td>{{ listening.started|date("Y-m-d H:i:s") }}</td>
                        <td>
                            {% if listening.completed %}
                                <span class="green-boolean"><span class="glyphicon glyphicon-ok" aria-hidden="true"></span></span>
                            {% else %}
                                <span class="red-boolean"><span class="glyphicon glyphicon-remove" aria-hidden="true"></span></span>
                            {% endif %}
                        </td>
                        <td>
                            {{ listening.questions|length }}
                        </td>
                    </tr>
                    {% endfor %}
                </tbody>
            </table>
            <div class="pagination">
                {{ knp_pagination_render(listenings) }}
            </div>
        </div>
        {% endif %}
    </div>
</div>

{% endblock %}

{% block stylesheets %}
    {% stylesheets '@ElearningCoursesBundle/Resources/less/styles.less'
    '@ElearningCoursesBundle/Resources/less/responsive.less' filter="cssrewrite" %}
        <link rel="stylesheet" href="{{ asset_url }}">
    {% endstylesheets %}

{% endblock %}
